{% extends "base.html" %}

{% block head %}
    <title>Edit Profile</title>
{% endblock %}

{% block body %}
    <h2>Edit Profile</h2>
    <form class="styled-form" method="POST" action="{{ url_for('auth.update_profile') }}" enctype="multipart/form-data">
        <input type="text" name="username" placeholder="Username" value="{{ current_user.username }}" required><br>
        <input type="text" name="email" placeholder="Email" value="{{ current_user.email }}"><br>
        <input type="text" name="occupation" placeholder="Occupation" value="{{ current_user.occupation }}"><br>
        <input type="number" name="phone_number" placeholder="Phone Number" value="{{ current_user.phone_number }}"><br>
        <input type="file" name="profile_picture"><br>
        {% if current_user.profile_picture %}
            <img src="{{ url_for('static', filename='profile_pics/' ~ current_user.profile_picture) }}" alt="Profile Picture" width="150"><br>
        {% endif %}
        <button type="submit">Update Profile</button>
    </form>
    <br>
    <form class="styled-form" method="POST" action="{{ url_for('auth.delete_account') }}">
        <button type="submit" onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.');">Delete Account</button>
    </form>
{% endblock %}